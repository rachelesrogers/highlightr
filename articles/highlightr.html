<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>highlightr • highlightr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="highlightr">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">highlightr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/highlightr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/wikipedia-highlighter.html">Wikipedia Highlighter Article</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>highlightr</h1>
            
      

      <div class="d-none name"><code>highlightr.Rmd</code></div>
    </div>

    
    
<p>This package is designed to map a group of individuals’ notes to the
corresponding parent text, based on the frequency with which phrases
occur in the individual notes. The parent text is highlighted
corresponding to this frequency, in order to create a ‘heatmap’ of
popular phrases found in the note sheets.</p>
<p>This example is taken from the initial description of a crime used in
a study of jury perception of algorithm use and demonstrative
evidence.</p>
<p>The first step is to re-assign names in the notepad text to
correspond with the expected format used in
<code><a href="../reference/token_comments.html">token_comments()</a></code> and use the function to tokenize the
comments.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rachelesrogers.github.io/highlightr/">highlightr</a></span><span class="op">)</span></span>
<span><span class="va">comment_example_rename</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="va">comment_example</span>, page_notes<span class="op">=</span><span class="va">Notes</span><span class="op">)</span></span>
<span></span>
<span><span class="va">toks_comment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/token_comments.html">token_comments</a></span><span class="op">(</span><span class="va">comment_example_rename</span><span class="op">)</span></span></code></pre></div>
<p>The next step is to tokenize the transcript in a similar manner.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">transcript_example_rename</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="va">transcript_example</span>, text<span class="op">=</span><span class="va">Text</span><span class="op">)</span></span>
<span></span>
<span><span class="va">toks_transcript</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/token_transcript.html">token_transcript</a></span><span class="op">(</span><span class="va">transcript_example_rename</span><span class="op">)</span></span></code></pre></div>
<p>After that, a fuzzy collocation is used to match the tokenized notes
to the phrases in the tokenized transcript. This function first
determines the number of times a collocation of length 5 occurs in
participant notes. Fuzzy (or indirect) matches are then added to the
frequency count of the transcript collocation that is the closest match.
These fuzzy matches are weighted based on the edit distance between the
transcript collocation and the indirect phrase:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mi>n</mi><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>d</mi><mo>+</mo><mn>0.25</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>*</mo><mi>m</mi></mrow></mfrac><annotation encoding="application/x-tex">
\frac{n}{(d + 0.25)*m}
</annotation></semantics></math></p>
<p>Here,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math>
is the frequency of the fuzzy collocation,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>d</mi><annotation encoding="application/x-tex">d</annotation></semantics></math>
is the distance between the fuzzy collocation and the transcript
collocation, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the number of closest matches for the fuzzy collocation.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">collocation_object</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collocate_comments_fuzzy.html">collocate_comments_fuzzy</a></span><span class="op">(</span><span class="va">toks_transcript</span>, <span class="va">toks_comment</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">collocation_object</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   word_number col_1 col_2 col_3 col_4 col_5 to_merge  collocation               </span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           1  6.85 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    in        in this case the defendant</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           2  7     6.85 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    this      this case the defendant r…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           3  7.44  7     6.85 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    case      case the defendant richar…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>           4 10.1   7.44  7     6.85 <span style="color: #BB0000;">NA</span>    the       the defendant richard col…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>           5 11.4  10.1   7.44  7     6.85 defendant defendant richard cole ha…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>           6 23.0  11.4  10.1   7.44  7    richard   richard cole has been cha…</span></span></code></pre></div>
<p>The output assigns the frequency of each collocation to each word
that occurs in that collocation. For example, the first collocation in
the description is “in this case the defendant”, which occurs with a
frequency of 6.85. This is the only collocation in which the first word
will appear, so this is the only collocation value provided for the
first word. The second word, “this” appears in the next collocation as
well: this case the defendant richard, whose frequency is 7, and so on
for all words in the description.</p>
<p>Next, the <code><a href="../reference/transcript_frequency.html">transcript_frequency()</a></code> function attaches the
collocation counts to the full text of the transcript.
<!-- This provides additional information about the original formatting of the transcript that is needed when constructing the final object. -->
The collocation frequencies are averaged per word.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">merged_frequency</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transcript_frequency.html">transcript_frequency</a></span><span class="op">(</span><span class="va">transcript_example_rename</span>, <span class="va">collocation_object</span><span class="op">)</span></span></code></pre></div>
<p>The combined document is then fed through ggplot to assign gradient
colors based on frequency, and the minimum and maximum values are
recorded.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">freq_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collocation_plot.html">collocation_plot</a></span><span class="op">(</span><span class="va">merged_frequency</span><span class="op">)</span></span></code></pre></div>
<p>After colors have been assigned, highlighted text is created based on
frequency, as well as a gradient bar indicating the high and low values.
The left side of each word gradient indicates the frequency of the
previous word’s averaged collocation frequency, while the right side
indicates the current word’s averaged collocation frequency.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">page_highlight</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/highlighted_text.html">highlighted_text</a></span><span class="op">(</span><span class="va">freq_plot</span>, <span class="va">merged_frequency</span><span class="op">)</span></span></code></pre></div>
<div>
0
<div style="
    height: 20px;
    width: 200px;
    display: inline-block;
    background: linear-gradient(45deg, #F251FC , #F8FF1B );">

</div>
46
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FA73E3,#FA73E3) ">
In 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FA73E3,#FA73E3) ">
this 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FA73E3,#FB74E2) ">
case, 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FB74E2,#FB77DF) ">
the 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FB77DF,#FC7ADD) ">
defendant 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FC7ADD,#FF88D1) ">
- 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FC7ADD,#FF88D1) ">
Richard 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF88D1,#FF93C6) ">
Cole 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF93C6,#FF9EBA) ">
- 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF93C6,#FF9EBA) ">
has 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF9EBA,#FFA8B0) ">
been 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFA8B0,#FFB4A3) ">
charged 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFB4A3,#FFB99D) ">
with 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFB99D,#FFC78C) ">
willfully 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFC78C,#FFD974) ">
discharging 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFD974,#FFE65D) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFE65D,#FCF343) ">
firearm 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FCF343,#F8FF1B) ">
in 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F8FF1B,#FBF63D) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FBF63D,#FFE65E) ">
place 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFE65E,#FFD874) ">
of 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFD874,#FFC78C) ">
business. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFC78C,#FFB5A2) ">
This 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFB5A2,#FFABAC) ">
crime 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFABAC,#FFA4B4) ">
is 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFA4B4,#FF9DBB) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF9DBB,#FF97C2) ">
felony. 
</div>

<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF97C2,#FF93C6) ">
Mr. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF93C6,#FF97C2) ">
Cole 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF97C2,#FF98C1) ">
has 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF98C1,#FF99C0) ">
pleaded 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF99C0,#FF9ABF) ">
not 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF9ABF,#FF8FC9) ">
guilty 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF8FC9,#FD81D7) ">
to 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FD81D7,#FB77E0) ">
the 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FB77E0,#F96CE8) ">
charge. 
</div>

<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F96CE8,#F662F1) ">
You 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F662F1,#F662F1) ">
will 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F662F1,#F662F0) ">
now 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F662F0,#F662F1) ">
read 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F662F1,#F661F1) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
summary 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
of 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
the 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
case. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
This 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
summary 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
was 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
prepared 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
by 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
an 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
objective 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
court 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
clerk. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
It 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
describes 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
select 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
evidence 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
that 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
was 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
presented 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F661F1) ">
at 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F661F1,#F662F1) ">
trial. 
</div>
<p><br></p>
<p>To exclude fuzzy matches, the <code><a href="../reference/collocate_comments.html">collocate_comments()</a></code>
function can be used. Here, the listed frequencies are all whole
numbers, because they are counts (without weighting).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">collocation_object_nonfuzzy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collocate_comments.html">collocate_comments</a></span><span class="op">(</span><span class="va">toks_transcript</span>, <span class="va">toks_comment</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">collocation_object_nonfuzzy</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   word_number col_1 col_2 col_3 col_4 col_5 to_merge  collocation               </span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           1     6    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> in        in this case the defendant</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>           2     7     6    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> this      this case the defendant r…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>           3     7     7     6    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span> case      case the defendant richar…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>           4    10     7     7     6    <span style="color: #BB0000;">NA</span> the       the defendant richard col…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>           5    10    10     7     7     6 defendant defendant richard cole ha…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>           6    21    10    10     7     7 richard   richard cole has been cha…</span></span></code></pre></div>
<p>In this case, the highlighting pattern resembles that when the fuzzy
matches are included, but the maximum value reached is smaller. Note
also that the colors used in highlighting can be changed in the “colors”
argument of the <code>collocation_plot</code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">merged_frequency_nonfuzzy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transcript_frequency.html">transcript_frequency</a></span><span class="op">(</span><span class="va">transcript_example_rename</span>, <span class="va">collocation_object_nonfuzzy</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_plot_nonfuzzy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collocation_plot.html">collocation_plot</a></span><span class="op">(</span><span class="va">merged_frequency_nonfuzzy</span>, colors<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#15bf7e"</span>, <span class="st">"#fcc7ed"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">page_highlight_nonfuzzy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/highlighted_text.html">highlighted_text</a></span><span class="op">(</span><span class="va">freq_plot_nonfuzzy</span>, <span class="va">merged_frequency_nonfuzzy</span><span class="op">)</span></span></code></pre></div>
<div>
0
<div style="
    height: 20px;
    width: 200px;
    display: inline-block;
    background: linear-gradient(45deg, #15BF7E , #FCC7ED );">

</div>
41
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#56C28E,#56C28E) ">
In 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#56C28E,#59C28F) ">
this 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#59C28F,#5AC290) ">
case, 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#5AC290,#60C392) ">
the 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#60C392,#63C393) ">
defendant 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#63C393,#74C49B) ">
- 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#63C393,#74C49B) ">
Richard 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#74C49B,#83C5A2) ">
Cole 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#83C5A2,#91C6AA) ">
- 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#83C5A2,#91C6AA) ">
has 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#91C6AA,#9CC6B0) ">
been 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#9CC6B0,#AAC7B8) ">
charged 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#AAC7B8,#AFC7BB) ">
with 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#AFC7BB,#BBC8C2) ">
willfully 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#BBC8C2,#CCC8CD) ">
discharging 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#CCC8CD,#DFC8D9) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#DFC8D9,#EDC8E3) ">
firearm 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#EDC8E3,#FCC7ED) ">
in 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FCC7ED,#F1C7E5) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#F1C7E5,#E0C8DA) ">
place 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#E0C8DA,#CEC8CE) ">
of 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#CEC8CE,#BAC8C2) ">
business. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#BAC8C2,#A6C7B6) ">
This 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#A6C7B6,#9EC6B1) ">
crime 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#9EC6B1,#97C6AD) ">
is 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#97C6AD,#8FC6A9) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#8FC6A9,#87C5A5) ">
felony. 
</div>

<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#87C5A5,#81C5A1) ">
Mr. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#81C5A1,#84C5A3) ">
Cole 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#84C5A3,#85C5A3) ">
has 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#85C5A3,#86C5A4) ">
pleaded 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#86C5A4,#87C5A5) ">
not 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#87C5A5,#7BC49E) ">
guilty 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#7BC49E,#6CC397) ">
to 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#6CC397,#5FC391) ">
the 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#5FC391,#50C28C) ">
charge. 
</div>

<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#50C28C,#3EC186) ">
You 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
will 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
now 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
read 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
a 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
summary 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
of 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
the 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
case. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
This 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
summary 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
was 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
prepared 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
by 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
an 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
objective 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
court 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
clerk. 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
It 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
describes 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
select 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
evidence 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
that 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
was 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
presented 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
at 
</div>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#3EC186,#3EC186) ">
trial. 
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>  <span class="va">transcript_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>text<span class="op">=</span><span class="st">"&lt;i&gt;This &lt;/i&gt; &lt;b&gt;is&lt;/b&gt; a&lt;br&gt; test."</span><span class="op">)</span></span>
<span>  <span class="va">collocation_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>word_number<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, col_1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">6</span>, <span class="cn">NA</span><span class="op">)</span>, col_2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>                                 to_merge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"this"</span>, <span class="st">"is"</span>, <span class="st">"a"</span>, <span class="st">"test"</span><span class="op">)</span>,</span>
<span>                                 collocation<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"this is"</span>, <span class="st">"is a"</span>, <span class="st">"a test"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">frequency_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transcript_frequency.html">transcript_frequency</a></span><span class="op">(</span><span class="va">transcript_test</span>, <span class="va">collocation_test</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(to_merge)`</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(text, lines, n_words, words, word_num, word_length,</span></span>
<span><span class="co">#&gt; x_coord, to_merge, stanza_freq, word_number)`</span></span>
<span>  <span class="va">freq_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collocation_plot.html">collocation_plot</a></span><span class="op">(</span><span class="va">frequency_test</span><span class="op">)</span></span>
<span>  <span class="va">test_highlight</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/highlighted_text.html">highlighted_text</a></span><span class="op">(</span><span class="va">freq_plot</span>, <span class="va">transcript_test</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in min(which(page_df$nonmissing_val)[which(page_df$nonmissing_val) &gt; :</span></span>
<span><span class="co">#&gt; no non-missing arguments to min; returning Inf</span></span></code></pre></div>
<div>
0
<div style="
    height: 20px;
    width: 200px;
    display: inline-block;
    background: linear-gradient(45deg, #F251FC , #F8FF1B );">

</div>
6
</div>
<i>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF95C3,#FF95C3) ">
This 
</div>
</i><b>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FF95C3,#FFB2A5) ">
is 
</div>
</b>
<div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFB2A5,#FFE65E) ">
a 
</div>
<br><div style="display: inline-block; padding:0px;
  margin-left:-5px; background: linear-gradient(to right,#FFE65E,#F8FF1B) ">
test. 
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rachel Rogers, Susan VanderPlas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
